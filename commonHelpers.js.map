{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function renderPhotoCards(images, galleryEl) {\n  galleryEl.innerHTML = '';\n  // refs.searchFormRef.reset();\n  const markup = images.map(createPhotoCard).join('');\n  galleryEl.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction createPhotoCard({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `\n    <li class=\"photo-card\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img\n          src=\"${webformatURL}\"\n          alt=\"${tags}\"\n          loading=\"lazy\"\n        />\n      </a>\n      <div class=\"wrapper\">\n        <div class=\"info\">\n          <b class=\"student-info\">Likes: ${likes}</b>\n          <b class=\"student-info\">Views: ${views}</b>\n          <b class=\"student-info\">Comments: ${comments}</b>\n          <b class=\"student-info\">Downloads: ${downloads}</b>\n        </div>\n      </div>\n    </li>\n  `;\n}\n\n// import { refs } from '../main';\n\n// export function renderPhotoCards(images) {\n//   refs.galleryEl.innerHTML = '';\n//   refs.searchFormRef.reset();\n\n//   const markup = images.map(createPhotoCard).join('');\n//   refs.galleryEl.insertAdjacentHTML('beforeend', markup);\n// }\n\n// export function createPhotoCard({\n//   webformatURL,\n//   largeImageURL,\n//   tags,\n//   likes,\n//   views,\n//   comments,\n//   downloads,\n// }) {\n//   return `\n//     <li class=\"photo-card\">\n//       <a class=\"gallery-link\" href=\"${largeImageURL}\">\n//         <img\n//           src=\"${webformatURL}\"\n//           alt=\"${tags}\"\n//           loading=\"lazy\"\n//         />\n//       </a>\n//       <div class=\"wrapper\">\n//         <div class=\"info\">\n//           <b class=\"student-info\">Likes: ${likes}</b>\n//           <b class=\"student-info\">Views: ${views}</b>\n//           <b class=\"student-info\">Comments: ${comments}</b>\n//           <b class=\"student-info\">Downloads: ${downloads}</b>\n//         </div>\n//       </div>\n//     </li>\n//   `;\n// }\n","const API_KEY = '44985278-910018cc950880488ff0b70a1';\n\nexport function fetchImages(value) {\n  const URL = `https://pixabay.com/api/?key=${API_KEY}&q=${value}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(URL).then(response => {\n    if (!response.ok) {\n      throw new Error('Network response was not ok');\n    }\n    return response.json();\n  });\n}\n","import { renderPhotoCards } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchImages } from './js/pixabay-api';\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst refs = {\n  searchFormRef: document.querySelector('.searchForm'),\n  galleryEl: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nrefs.searchFormRef.addEventListener('submit', searchRequest);\n\nfunction searchRequest(e) {\n  e.preventDefault();\n\n  const searchInput = e.target.elements.search.value.trim();\n  if (searchInput === '') {\n    return;\n  }\n\n  refs.loader.style.display = 'block';\n\n  fetchImages(searchInput)\n    .then(data => {\n      if (data.hits.length > 0) {\n        renderPhotoCards(data.hits, refs.galleryEl);\n        refs.searchFormRef.reset();\n        let gallery = new SimpleLightbox('.gallery a', {\n          captionsData: 'alt',\n        });\n        gallery.refresh();\n      } else {\n        iziToast.error({\n          title: '',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          color: 'red',\n        });\n      }\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: 'Something went wrong. Please try again later.',\n        position: 'topRight',\n        color: 'red',\n      });\n    })\n    .finally(() => {\n      refs.loader.style.display = 'none';\n    });\n}\n\n// export const refs = {\n//   searchFormRef: document.querySelector('.searchForm'),\n//   galleryEl: document.querySelector('.gallery'),\n// };\n// export const searchInput = searchFormRef.elements.search.value.trim();\n// function initializeLightbox() {\n//   new SimpleLightbox('.gallery a', {\n//     captions: true,\n//     captionsData: 'alt',\n//     captionDelay: 250,\n//   });\n//\n// refs.searchFormRef.addEventListener('submit', searchRequest);\n\n// function searchRequest(e) {\n//   e.preventDefault();\n\n//   if (searchInput === '') {\n//     return;\n//   }\n//   fetchImages(searchInput)\n//     .then(data => {\n//       if (data.hits.length > 0) {\n//         renderPhotoCards(data.hits, refs.galleryEl);\n//       } else {\n//         iziToast.error({\n//           title: '',\n//           message:\n//             'Sorry, there are no images matching your search query. Please try again!',\n//           position: 'topRight',\n//           color: 'red',\n//         });\n//       }\n//     })\n//     .catch(error => {\n//       iziToast.error({\n//         title: 'Error',\n//         message: 'Something went wrong. Please try again later.',\n//         position: 'topRight',\n//         color: 'red',\n//       });\n//     });\n// }\n"],"names":["renderPhotoCards","images","galleryEl","markup","createPhotoCard","webformatURL","largeImageURL","tags","likes","views","comments","downloads","API_KEY","fetchImages","value","URL","response","refs","searchRequest","e","searchInput","data","SimpleLightbox","iziToast","error"],"mappings":"6vBAAO,SAASA,EAAiBC,EAAQC,EAAW,CAClDA,EAAU,UAAY,GAEtB,MAAMC,EAASF,EAAO,IAAIG,CAAe,EAAE,KAAK,EAAE,EAClDF,EAAU,mBAAmB,YAAaC,CAAM,CAClD,CAEA,SAASC,EAAgB,CACvB,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA;AAAA,sCAE6BL,CAAa;AAAA;AAAA,iBAElCD,CAAY;AAAA,iBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAMsBC,CAAK;AAAA,2CACLC,CAAK;AAAA,8CACFC,CAAQ;AAAA,+CACPC,CAAS;AAAA;AAAA;AAAA;AAAA,GAKxD,CCnCA,MAAMC,EAAU,qCAET,SAASC,EAAYC,EAAO,CACjC,MAAMC,EAAM,gCAAgCH,CAAO,MAAME,CAAK,2DAE9D,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,6BAA6B,EAE/C,OAAOA,EAAS,MACpB,CAAG,CACH,CCFA,MAAMC,EAAO,CACX,cAAe,SAAS,cAAc,aAAa,EACnD,UAAW,SAAS,cAAc,UAAU,EAC5C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAK,cAAc,iBAAiB,SAAUC,CAAa,EAE3D,SAASA,EAAcC,EAAG,CACxBA,EAAE,eAAc,EAEhB,MAAMC,EAAcD,EAAE,OAAO,SAAS,OAAO,MAAM,OAC/CC,IAAgB,KAIpBH,EAAK,OAAO,MAAM,QAAU,QAE5BJ,EAAYO,CAAW,EACpB,KAAKC,GAAQ,CACRA,EAAK,KAAK,OAAS,GACrBrB,EAAiBqB,EAAK,KAAMJ,EAAK,SAAS,EAC1CA,EAAK,cAAc,QACL,IAAIK,EAAe,aAAc,CAC7C,aAAc,KACxB,CAAS,EACO,QAAO,GAEfC,EAAS,MAAM,CACb,MAAO,GACP,QACE,2EACF,SAAU,WACV,MAAO,KACjB,CAAS,CAET,CAAK,EACA,MAAMC,GAAS,CACdD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gDACT,SAAU,WACV,MAAO,KACf,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbN,EAAK,OAAO,MAAM,QAAU,MAClC,CAAK,EACL"}